@using eCine.Data.ViewModels;
@model ShoppingCartVM
@{
    ViewData["Title"] = "Sopping Cart";
}


<section class=" h-custom rounded d-flex justify-content-center ">
    
    <div class="container py-3 h-100 m-0 px-0">
        <div class="row d-flex justify-content-center  h-100">


            <div class="col p-0 ">

                <div class="card ">


                    <div class="card-body p-md-4 p-1 py-2">





                        <div class="row ">
                            <div class="mb-3 d-flex align-items-center ">

                                <a asp-controller="Movies" asp-action="Index" class="icon-item nav-icon nav-response" data-mdb-toggle="tooltip" data-mdb-placement="top" title="Volver" data-mdb-ripple-init data-mdb-ripple-color="dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" class=" icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke=#000 fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 12l14 0" /><path d="M5 12l6 6" /><path d="M5 12l6 -6" /></svg>
                                </a>
                                <a asp-controller="Movies" asp-action="Index" class="text-dark" data-mdb-toggle="tooltip" data-mdb-placement="top" title="Volver" data-mdb-ripple-init data-mdb-ripple-color="dark">
                                    Continue shopping
                                </a>



                            </div>
                            <div class="col-lg-7 ">

                                @foreach(var item in Model.ShoppingCart.ShoppingCartItems)
                                {
                                    
                                    <div class="card  mb-3 ">
                                        <div class="card-body flex-wrap p-md-3 p-2 px-3 ">
                                            <div class="d-flex justify-content-between align-items-center flex-wrap col-12">
                                                @* Fila 1 *@
                                                <div class="d-flex flex-row align-items-center order-0 col-2 ">
                                                    <div>
                                                        <img src=@item.Movie.Image class="img-fluid rounded-3" alt="Shopping item" style="width: 65px; aspect-ratio:2/3;">
                                                    </div>
                                                </div>
                                                <div @* style="width:26%" *@ class="col-3 ms-md-0  ms-2 order-1">
                                                        <h5 class="nombre-producto-shopping-cart">@item.Movie.Name</h5>

                                                    </div>
                                                @* fila 2*@
                                                <div class="d-flex flex-wrap flex-row align-items-center justify-content-center gap-3 order-4 col-2">

                                                    <div class=" d-flex flex-column justify-content-center align-items-center">
                                                    <div class=" d-flex  justify-content-center align-items-center">
                                                        <a class="btn btn-link px-md-2 px-1 mx-md-1 mx-0 btn-amount-item"
                                                               asp-controller="Orders" asp-action="SubtractFromShoppingCart" asp-route-id="@item.Movie.Id">
                                                            <i class="fas fa-minus text-dark"></i>
                                                        </a>
                                                        @* <button class="btn btn-link px-md-2 px-1 mx-md-1 mx-0"
                                                                asp-controller="Orders" asp-action="RemoveItemFromCart" asp-route-id="@item.Movie.Id"
                                                            
                                                                onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                                                            <i class="fas fa-minus text-dark"></i>
                                                        </button> *@

                                                        <input style="width: 42px;" id="form1" min="0" name="quantity" value="@item.Amount" type="number"
                                                               class="form-control input-amount-shopping-cart form-control-sm text-center" />

                                                        <a class="btn btn-link px-md-2 px-1 mx-md-1 mx-0 btn-amount-item"
                                                               asp-controller="Orders" asp-action="AddToShoppingCart" asp-route-id="@item.Movie.Id">
                                                            <i class="fas fa-plus text-dark"></i>
                                                        </a>
                                                        @* <button class="btn btn-link px-md-2 px-1 mx-md-1 mx-0"
                                                                asp-controller="Orders" asp-action="AddItemToCart" asp-route-id="@item.Movie.Id"
                                                                onclick="this.parentNode.querySelector('input[type=number]').stepUp() ">
                                                            <i class="fas fa-plus text-dark"></i>
                                                        </button> *@
                                                    </div>
                                                        <a asp-action="RemoveItemFromShoppingCart" asp-controller="Orders" asp-route-id="@item.Movie.Id" class="order-5 d-none remove-item-shopping-cart-down" style="color: #cecece;width:2.5%;"><i class="fas fa-trash-alt icono-eliminar"></i></a>
                                                    </div>

                                                </div>
                                                @* fila 3 *@
                                                <div  class="col-3 d-flex flex-wrap flex-row align-items-center justify-content-center gap-1 gap-md-3 order-3">
                                                    <h5 class="precio-item-shopping-cart mb-0">@((item.Amount*item.Movie.Price).ToString("c"))</h5>
                                                </div>
                                                <a asp-action="RemoveItemFromShoppingCart" asp-controller="Orders" asp-route-id="@item.Movie.Id" class=" order-5 remove-item-shopping-cart-right" style="color: #cecece;width:2.5%;"><i class="fas fa-trash-alt icono-eliminar"></i></a>

                                            </div>
                                        </div>
                                    </div>
                                }



                            </div>
                            <div class="col-lg-5">

                                <div class="card bg-dark text-white rounded-3">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h5 class="mb-0">Shopping details</h5>
                                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp"
                                                 class="img-fluid rounded-3" style="width: 45px;" alt="Avatar">
                                        </div>



                                        <form class="mt-4">
                                        </form>

                                        <hr class="my-4">

                                        @* <div class="d-flex justify-content-between">
                                            <p class="mb-2">Subtotal</p>
                                            <p class="mb-2">$4798.00</p>
                                        </div>

                                        <div class="d-flex justify-content-between">
                                            <p class="mb-2">Shipping</p>
                                            <p class="mb-2">$20.00</p>
                                        </div> *@

                                        <div class="d-flex justify-content-between mb-4">
                                            <p class="mb-2">Total(Incl. taxes)</p>
                                            <p class="mb-2">@Model.ShoppingCartTotal.ToString("c")</p>
                                        </div>

                                        <button type="button" class="btn btn-primary btn-block btn-lg">
                                            <div class="d-flex justify-content-between">
                                                <span>@Model.ShoppingCartTotal.ToString("c")</span>
                                                <span>Checkout <i class="fas fa-long-arrow-alt-right ms-2"></i></span>
                                            </div>
                                        </button>

                                    </div>
                                </div>

                            </div>
                            @* <div class="col-lg-5">

                            <div class="card bg-primary text-white rounded-3">
                            <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                            <h5 class="mb-0">Card details</h5>
                            <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp"
                            class="img-fluid rounded-3" style="width: 45px;" alt="Avatar">
                            </div>

                            <p class="small mb-2">Card type</p>
                            <a href="#!" type="submit" class="text-white">
                            <i class="fab fa-cc-mastercard fa-2x me-2"></i>
                            </a>
                            <a href="#!" type="submit" class="text-white">
                            <i class="fab fa-cc-visa fa-2x me-2"></i>
                            </a>
                            <a href="#!" type="submit" class="text-white">
                            <i class="fab fa-cc-amex fa-2x me-2"></i>
                            </a>
                            <a href="#!" type="submit" class="text-white"><i class="fab fa-cc-paypal fa-2x"></i></a>

                            <form class="mt-4">
                            <div class="form-outline form-white mb-4">
                            <input type="text" id="typeName" class="form-control form-control-lg" siez="17"
                            placeholder="Cardholder's Name" />
                            <label class="form-label" for="typeName">Cardholder's Name</label>
                            </div>

                            <div class="form-outline form-white mb-4">
                            <input type="text" id="typeText" class="form-control form-control-lg" siez="17"
                            placeholder="1234 5678 9012 3457" minlength="19" maxlength="19" />
                            <label class="form-label" for="typeText">Card Number</label>
                            </div>

                            <div class="row mb-4">
                            <div class="col-md-6">
                            <div class="form-outline form-white">
                            <input type="text" id="typeExp" class="form-control form-control-lg"
                            placeholder="MM/YYYY" size="7" id="exp" minlength="7" maxlength="7" />
                            <label class="form-label" for="typeExp">Expiration</label>
                            </div>
                            </div>
                            <div class="col-md-6">
                            <div class="form-outline form-white">
                            <input type="password" id="typeText" class="form-control form-control-lg"
                            placeholder="&#9679;&#9679;&#9679;" size="1" minlength="3" maxlength="3" />
                            <label class="form-label" for="typeText">Cvv</label>
                            </div>
                            </div>
                            </div>

                            </form>

                            <hr class="my-4">

                            <div class="d-flex justify-content-between">
                            <p class="mb-2">Subtotal</p>
                            <p class="mb-2">$4798.00</p>
                            </div>

                            <div class="d-flex justify-content-between">
                            <p class="mb-2">Shipping</p>
                            <p class="mb-2">$20.00</p>
                            </div>

                            <div class="d-flex justify-content-between mb-4">
                            <p class="mb-2">Total(Incl. taxes)</p>
                            <p class="mb-2">$4818.00</p>
                            </div>

                            <button type="button" class="btn btn-info btn-block btn-lg">
                            <div class="d-flex justify-content-between">
                            <span>$4818.00</span>
                            <span>Checkout <i class="fas fa-long-arrow-alt-right ms-2"></i></span>
                            </div>
                            </button>

                            </div>
                            </div>

                            </div> *@

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</section>
